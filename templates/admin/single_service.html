{% extends "layout.html" %}

{% block sidebar %}
    {% include "components/admin_sidebar.html" %}
{% endblock sidebar %}


{% block section %}

<section class="mx-auto w-full max-w-7xl px-4 py-4">
    <div class="bg-white rounded-lg shadow-lg p-6 max-w-full">
    <!-- Service Header -->
    <div class="flex justify-between items-center">
        <div>
        <h3 class="text-xl font-bold text-gray-800">{{ service.title.title() }}</h3>
        <p class="text-sm text-gray-500">Category: {{ service.provider.category.name }}</p>
        </div>
        <div class="text-right">
        <p class="text-lg font-semibold text-gray-900">{{ service.price }}</p>
        <p class="text-sm text-gray-500">Time Required: {{ service.time_required_hr }} Hours</p>
        </div>
    </div>

    <!-- Divider -->
    <hr class="my-4">

    <!-- Provider Information -->
    <div class="flex justify-between items-center">
        <div>
        <h4 class="text-md font-semibold text-gray-800">Provider: {{ service.provider.username.title() }}</h4>
        <p class="text-sm text-gray-500">Experience: {{ service.provider.experience }} Years</p>
        </div>
        <div>
        <p class="text-sm text-green-700 font-semibold">Active Bookings: 3</p>
        <p class="text-sm text-blue-600 font-semibold">Total Bookings: 20</p>
        </div>
    </div>

    <!-- Divider -->
    <hr class="my-4">

    <!-- Booking History -->
    <div class="overflow-x-auto">
        <h4 class="text-md font-semibold text-gray-800 mb-2">Booking History</h4>
        <table class="min-w-full bg-white border border-gray-200">
        <thead class="bg-gray-200">
            <tr>
            <th class="py-2 px-4 text-left text-gray-700 font-semibold">Booking ID</th>
            <th class="py-2 px-4 text-left text-gray-700 font-semibold">Customer</th>
            <th class="py-2 px-4 text-left text-gray-700 font-semibold">Date</th>
            <th class="py-2 px-4 text-left text-gray-700 font-semibold">Status</th>
            <th class="py-2 px-4 text-left text-gray-700 font-semibold">Payment Status</th>
            </tr>
        </thead>
        <tbody class="border-t">
            {% for booking in service.bookings.all()  %}
            
            <tr class="border-b">
            <td class="py-2 px-4 text-gray-800">{{ booking.id }}</td>
            <td class="py-2 px-4 text-gray-800">{{ booking.customer.username }}</td>
            <td class="py-2 px-4 text-gray-800">{{ booking.date_booked.date() }}</td>
            <td class="py-2 px-4">
                <span class="bg-green-100 text-green-600 py-1 px-2 rounded-full text-sm">Completed</span>
            </td>
            <td class="py-2 px-4">
                <span class="bg-green-100 text-green-600 py-1 px-2 rounded-full text-sm">Paid</span>
            </td>
            </tr>
            {% endfor %}
            <!-- Booking 2 -->
            <tr class="border-b">
            <td class="py-2 px-4 text-gray-800">BKG-12346</td>
            <td class="py-2 px-4 text-gray-800">John Miller</td>
            <td class="py-2 px-4 text-gray-800">2024-10-10</td>
            <td class="py-2 px-4">
                <span class="bg-yellow-100 text-yellow-600 py-1 px-2 rounded-full text-sm">Pending</span>
            </td>
            <td class="py-2 px-4">
                <span class="bg-yellow-100 text-yellow-600 py-1 px-2 rounded-full text-sm">Pending</span>
            </td>
            </tr>
            <!-- Add more bookings dynamically -->
        </tbody>
        </table>
    </div>

    <!-- Divider -->
    <hr class="my-4">

    <!-- Customer Reviews & Ratings -->
    <div class="mt-4">
        <h4 class="text-md font-semibold text-gray-800 mb-2">Customer Reviews & Ratings</h4>
        <div class="space-y-4">
        <!-- Review 1 -->
        <div class="bg-gray-100 p-4 rounded-lg">
            <div class="flex justify-between items-center">
            <p class="text-sm font-semibold text-gray-800">Alice Smith</p>
            <div class="flex items-center">
                <!-- Star Rating -->
                <svg class="w-5 h-5 text-yellow-500" fill="currentColor" viewBox="0 0 20 20">
                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.283 3.953a1 1 0 00.95.691h4.17c.969 0 1.371 1.24.588 1.81l-3.383 2.457a1 1 0 00-.364 1.118l1.283 3.953c.3.921-.755 1.688-1.54 1.118l-3.383-2.457a1 1 0 00-1.175 0l-3.383 2.457c-.785.57-1.839-.197-1.54-1.118l1.283-3.953a1 1 0 00-.364-1.118L2.268 9.381c-.783-.57-.381-1.81.588-1.81h4.17a1 1 0 00.95-.691l1.283-3.953z"></path>
                </svg>
                <svg class="w-5 h-5 text-yellow-500" fill="currentColor" viewBox="0 0 20 20">
                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.283 3.953a1 1 0 00.95.691h4.17c.969 0 1.371 1.24.588 1.81l-3.383 2.457a1 1 0 00-.364 1.118l1.283 3.953c.3.921-.755 1.688-1.54 1.118l-3.383-2.457a1 1 0 00-1.175 0l-3.383 2.457c-.785.57-1.839-.197-1.54-1.118l1.283-3.953a1 1 0 00-.364-1.118L2.268 9.381c-.783-.57-.381-1.81.588-1.81h4.17a1 1 0 00.95-.691l1.283-3.953z"></path>
                </svg>
                <svg class="w-5 h-5 text-yellow-500" fill="currentColor" viewBox="0 0 20 20">
                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.283 3.953a1 1 0 00.95.691h4.17c.969 0 1.371 1.24.588 1.81l-3.383 2.457a1 1 0 00-.364 1.118l1.283 3.953c.3.921-.755 1.688-1.54 1.118l-3.383-2.457a1 1 0 00-1.175 0l-3.383 2.457c-.785.57-1.839-.197-1.54-1.118l1.283-3.953a1 1 0 00-.364-1.118L2.268 9.381c-.783-.57-.381-1.81.588-1.81h4.17a1 1 0 00.95-.691l1.283-3.953z"></path>
                </svg>
                <svg class="w-5 h-5 text-gray-300" fill="currentColor" viewBox="0 0 20 20">
                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.283 3.953a1 1 0 00.95.691h4.17c.969 0 1.371 1.24.588 1.81l-3.383 2.457a1 1 0 00-.364 1.118l1.283 3.953c.3.921-.755 1.688-1.54 1.118l-3.383-2.457a1 1 0 00-1.175 0l-3.383 2.457c-.785.57-1.839-.197-1.54-1.118l1.283-3.953a1 1 0 00-.364-1.118L2.268 9.381c-.783-.57-.381-1.81.588-1.81h4.17a1 1 0 00.95-.691l1.283-3.953z"></path>
                </svg>
            </div>
            </div>
            <p class="text-sm text-gray-600 mt-2">Great service! The house looks spotless. Highly recommended.</p>
        </div>
        <!-- Add more reviews dynamically -->
        </div>
    </div>
    </div>
</section>

{% endblock section %}












